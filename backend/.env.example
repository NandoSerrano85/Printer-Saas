# =============================================================================
# PRINTER SAAS BACKEND ENVIRONMENT CONFIGURATION
# =============================================================================

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
APP_NAME="Printer SaaS Backend"
APP_VERSION="1.0.0"
ENVIRONMENT="development"
DEBUG=true
LOG_LEVEL="info"

# Server Configuration
HOST="0.0.0.0"
PORT=8000
WORKERS=1
RELOAD=true

# CORS Settings
ALLOWED_ORIGINS="http://localhost:3000,http://localhost:3001,http://127.0.0.1:3000"
ALLOWED_METHODS="GET,POST,PUT,DELETE,OPTIONS,PATCH"
ALLOWED_HEADERS="*"

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# PostgreSQL Database
DATABASE_URL="postgresql://postgres:password@localhost:5432/printer_saas"
DATABASE_HOST="localhost"
DATABASE_PORT=5432
DATABASE_NAME="printer_saas"
DATABASE_USER="postgres"
DATABASE_PASSWORD="password"

# Database Pool Settings
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=30
DATABASE_POOL_PRE_PING=true
DATABASE_POOL_RECYCLE=3600

# Migration Settings
AUTO_MIGRATE=true
CREATE_SAMPLE_DATA=false

# =============================================================================
# AUTHENTICATION & SECURITY
# =============================================================================
# JWT Settings
JWT_SECRET_KEY="your-super-secret-jwt-key-change-this-in-production"
JWT_ALGORITHM="HS256"
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=1440
JWT_REFRESH_TOKEN_EXPIRE_DAYS=30

# Password Settings
PASSWORD_MIN_LENGTH=8
PASSWORD_BCRYPT_ROUNDS=12

# Session Settings
SESSION_SECRET_KEY="your-super-secret-session-key-change-this-in-production"

# =============================================================================
# ETSY API INTEGRATION
# =============================================================================
# Etsy OAuth 2.0 Credentials
ETSY_CLIENT_ID="your-etsy-client-id"
ETSY_CLIENT_SECRET="your-etsy-client-secret"

# Etsy API Configuration
ETSY_API_BASE_URL="https://openapi.etsy.com"
ETSY_API_VERSION="v3"
ETSY_OAUTH_REDIRECT_URI="http://localhost:8000/api/v1/etsy/oauth/callback"

# Etsy OAuth Scopes
ETSY_OAUTH_SCOPES="shops_r,shops_w,listings_r,listings_w,transactions_r,profile_r,email_r,favorites_r,feedback_r"

# Etsy API Rate Limiting
ETSY_RATE_LIMIT_REQUESTS_PER_SECOND=10
ETSY_RATE_LIMIT_BURST_SIZE=50

# Etsy Webhook Settings
ETSY_WEBHOOK_SECRET="your-etsy-webhook-secret"
ETSY_WEBHOOK_ENDPOINT="/api/v1/etsy/webhooks"

# =============================================================================
# SHOPIFY API INTEGRATION
# =============================================================================
# Shopify OAuth 2.0 Credentials
SHOPIFY_CLIENT_ID="your-shopify-client-id"
SHOPIFY_CLIENT_SECRET="your-shopify-client-secret"

# Shopify API Configuration
SHOPIFY_API_VERSION="2023-10"
SHOPIFY_OAUTH_REDIRECT_URI="http://localhost:8000/api/v1/shopify/oauth/callback"

# Shopify OAuth Scopes
SHOPIFY_OAUTH_SCOPES="read_products,write_products,read_orders,write_orders,read_customers,write_customers,read_inventory,write_inventory,read_files"

# Shopify API Rate Limiting
SHOPIFY_RATE_LIMIT_REQUESTS_PER_SECOND=2
SHOPIFY_RATE_LIMIT_BURST_SIZE=40

# Shopify Webhook Settings
SHOPIFY_WEBHOOK_SECRET="your-shopify-webhook-secret"
SHOPIFY_WEBHOOK_ENDPOINT="/api/v1/shopify/webhooks"

# =============================================================================
# REDIS CONFIGURATION (for caching and background jobs)
# =============================================================================
REDIS_URL="redis://localhost:6379/0"
REDIS_HOST="localhost"
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=""
REDIS_MAX_CONNECTIONS=20

# Cache Settings
CACHE_TTL_SECONDS=3600
CACHE_PREFIX="printer_saas"

# =============================================================================
# CELERY CONFIGURATION (for background tasks)
# =============================================================================
CELERY_BROKER_URL="redis://localhost:6379/1"
CELERY_RESULT_BACKEND="redis://localhost:6379/2"
CELERY_TASK_SERIALIZER="json"
CELERY_RESULT_SERIALIZER="json"
CELERY_ACCEPT_CONTENT=["json"]
CELERY_TIMEZONE="UTC"
CELERY_ENABLE_UTC=true

# =============================================================================
# FILE STORAGE CONFIGURATION
# =============================================================================
# Storage Backend (local, s3, gcs)
STORAGE_BACKEND="local"

# Local Storage Settings
LOCAL_STORAGE_PATH="/app/uploads"
LOCAL_STORAGE_URL="/uploads"

# AWS S3 Settings (if using S3)
AWS_ACCESS_KEY_ID=""
AWS_SECRET_ACCESS_KEY=""
AWS_REGION="us-east-1"
AWS_S3_BUCKET=""
AWS_S3_CUSTOM_DOMAIN=""

# Google Cloud Storage Settings (if using GCS)
GOOGLE_CLOUD_PROJECT=""
GOOGLE_CLOUD_STORAGE_BUCKET=""
GOOGLE_APPLICATION_CREDENTIALS=""

# File Upload Settings
MAX_FILE_SIZE_MB=50
ALLOWED_IMAGE_EXTENSIONS="jpg,jpeg,png,gif,webp"
ALLOWED_DOCUMENT_EXTENSIONS="pdf,doc,docx,txt"

# =============================================================================
# EMAIL CONFIGURATION
# =============================================================================
# Email Backend (smtp, sendgrid, ses)
EMAIL_BACKEND="smtp"

# SMTP Settings
SMTP_HOST="localhost"
SMTP_PORT=587
SMTP_USE_TLS=true
SMTP_USERNAME=""
SMTP_PASSWORD=""
EMAIL_FROM="noreply@printersaas.com"
EMAIL_FROM_NAME="Printer SaaS"

# SendGrid Settings (if using SendGrid)
SENDGRID_API_KEY=""

# AWS SES Settings (if using SES)
AWS_SES_REGION="us-east-1"

# =============================================================================
# MONITORING & LOGGING
# =============================================================================
# Sentry (Error Tracking)
SENTRY_DSN=""
SENTRY_ENVIRONMENT="development"
SENTRY_TRACES_SAMPLE_RATE=0.1

# Prometheus Metrics
PROMETHEUS_METRICS_ENABLED=true
PROMETHEUS_METRICS_PORT=9090

# Structured Logging
LOG_FORMAT="json"
LOG_INCLUDE_TRACE_ID=true

# Health Check Settings
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_DATABASE=true
HEALTH_CHECK_REDIS=true
HEALTH_CHECK_EXTERNAL_APIS=false

# =============================================================================
# BUSINESS LOGIC CONFIGURATION
# =============================================================================
# Multi-tenancy Settings
DEFAULT_TENANT_PLAN="starter"
MAX_TENANTS_PER_USER=3
TENANT_ISOLATION_LEVEL="schema"

# Template Settings
MAX_TEMPLATES_PER_USER=100
TEMPLATE_AUTO_BACKUP=true
TEMPLATE_VERSION_HISTORY=10

# Order Settings
ORDER_AUTO_SYNC_ENABLED=true
ORDER_SYNC_INTERVAL_MINUTES=15
ORDER_RETENTION_DAYS=365

# Webhook Settings
WEBHOOK_RETRY_ATTEMPTS=3
WEBHOOK_RETRY_DELAY_SECONDS=60
WEBHOOK_TIMEOUT_SECONDS=30

# =============================================================================
# FEATURE FLAGS
# =============================================================================
# Integration Features
FEATURE_ETSY_INTEGRATION=true
FEATURE_SHOPIFY_INTEGRATION=true
FEATURE_BATCH_OPERATIONS=true
FEATURE_WEBHOOK_PROCESSING=true

# Advanced Features
FEATURE_ANALYTICS_DASHBOARD=true
FEATURE_TEMPLATE_SHARING=false
FEATURE_MARKETPLACE=false
FEATURE_API_ACCESS=true

# Experimental Features
FEATURE_AI_SUGGESTIONS=false
FEATURE_BULK_IMPORT=true
FEATURE_ADVANCED_SYNC=true

# =============================================================================
# DEVELOPMENT & TESTING
# =============================================================================
# Development Mode Settings
DEV_MODE=true
DEV_SKIP_AUTH=false
DEV_MOCK_EXTERNAL_APIS=false
DEV_AUTO_CREATE_ADMIN=true

# Testing Settings
TEST_DATABASE_URL="postgresql://postgres:password@localhost:5432/printer_saas_test"
TEST_SKIP_MIGRATIONS=false
TEST_PARALLEL=false

# API Documentation
DOCS_ENABLED=true
DOCS_URL="/docs"
REDOC_URL="/redoc"

# =============================================================================
# PRODUCTION OVERRIDES
# =============================================================================
# Production Environment Variables (override development settings)
# Uncomment and set these for production deployment

# ENVIRONMENT="production"
# DEBUG=false
# RELOAD=false
# LOG_LEVEL="warning"
# AUTO_MIGRATE=false
# CREATE_SAMPLE_DATA=false
# DOCS_ENABLED=false
# DEV_MODE=false

# Production Database (use environment-specific values)
# DATABASE_URL="${DATABASE_URL}"

# Production Security Keys (use secure random values)
# JWT_SECRET_KEY="${JWT_SECRET_KEY}"
# SESSION_SECRET_KEY="${SESSION_SECRET_KEY}"

# Production API Credentials
# ETSY_CLIENT_ID="${ETSY_CLIENT_ID}"
# ETSY_CLIENT_SECRET="${ETSY_CLIENT_SECRET}"
# SHOPIFY_CLIENT_ID="${SHOPIFY_CLIENT_ID}"
# SHOPIFY_CLIENT_SECRET="${SHOPIFY_CLIENT_SECRET}"

# Production External Services
# REDIS_URL="${REDIS_URL}"
# SENTRY_DSN="${SENTRY_DSN}"